@PACKAGE_INIT@

#MexIFaceConfig.cmake
#
# COMPONENTS:
#   LIBCXX - Import versions compiled against libc++.so
#

include(CMakeFindDependencyMacro)
find_dependency(BacktraceException)
find_dependency(Armadillo)
add_definitions(-DARMA_USE_CXX11)


#Sets:
# @PROJECT_NAME@_BUILD_TYPES
# @PROJECT_NAME@_CMAKE_DIR
# @PROJECT_NAME@_CMAKE_MODULES_DIR
# @PROJECT_NAME@_CMAKE_TOOLCHAINS_DIR
# @PROJECT_NAME@_CMAKE_FUNCTIONS_DIR
# @PROJECT_NAME@_CMAKE_EXECUTABLE_DIR
# @PROJECT_NAME@_CMAKE_TEMPLATES_DIR
# MexIFace_LIBCXX_VERSION
# MexIFace_
#
# Only one of these variables can be set
# MEXIFACE_LIBSTDCXX - Version of LIBSTDCXX this set of Mexiface targets is built against
# MEXIFACE_LIBCXX - Version of LIBCXX his set of Mexiface targets is built against

# Modifies:
#  CMAKE_MODULE_PATH


#Setup paths to CMAKE utilities
set_and_check(@PROJECT_NAME@_CMAKE_DIR @PACKAGE_SHARED_CMAKE_INSTALL_DIR@) #Relative to this file's install location
set_and_check(@PROJECT_NAME@_CMAKE_MODULES_DIR ${@PROJECT_NAME@_CMAKE_DIR}/Modules)
set_and_check(@PROJECT_NAME@_CMAKE_TOOLCHAINS_DIR ${@PROJECT_NAME@_CMAKE_DIR}/Toolchains)
set_and_check(@PROJECT_NAME@_CMAKE_FUNCTIONS_DIR ${@PROJECT_NAME@_CMAKE_DIR}/Functions)
set_and_check(@PROJECT_NAME@_CMAKE_EXECUTABLE_DIR ${@PROJECT_NAME@_CMAKE_DIR}/Executables)
set_and_check(@PROJECT_NAME@_CMAKE_TEMPLATES_DIR ${@PROJECT_NAME@_CMAKE_DIR}/Templates)
list(APPEND CMAKE_MODULE_PATH ${@PROJECT_NAME@_CMAKE_MODULES_DIR} )

#Find all matlab dependecies

include(MexIFace-configure-matlab)

#These functions are used by clients to configure thier own mex modules with MexIFace
include(@PROJECT_NAME@_CMAKE_FUNCTIONS_DIR/mexiface_configure_package_config.cmake)
include(@PROJECT_NAME@_CMAKE_FUNCTIONS_DIR/mexiface_make_mex.cmake)
include(@PROJECT_NAME@_CMAKE_FUNCTIONS_DIR/mexiface_install.cmake)

#Include targets file.  This will create IMPORTED target MexIFace::MexIFaceX_Y for each version of matlab.
#TODO: make sure this works to import a target to a matlab we don't find in MexIface-configure-matlab

include("${CMAKE_CURRENT_LIST_DIR}/@EXPORT_TARGETS_NAME@.cmake")

get_property(@PROJECT_NAME@_BUILD_TYPES TARGET @PROJECT_NAME@::@PROJECT_NAME@ PROPERTY IMPORTED_CONFIGURATIONS)

message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_BUILD_TYPES: ${@PROJECT_NAME@_BUILD_TYPES}")
message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_CMAKE_DIR: ${@PROJECT_NAME@_CMAKE_DIR}")
message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_CMAKE_MODULES_DIR: ${@PROJECT_NAME@_CMAKE_MODULES_DIR}")
message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_CMAKE_TOOLCHAINS_DIR: ${@PROJECT_NAME@_CMAKE_TOOLCHAINS_DIR}")
message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_CMAKE_EXECUTABLE_DIR: ${@PROJECT_NAME@_CMAKE_EXECUTABLE_DIR}")
message(STATUS "[@PROJECT_NAME@Config.cmake] @PROJECT_NAME@_CMAKE_TEMPLATES_DIR: ${@PROJECT_NAME@_CMAKE_TEMPLATES_DIR}")

check_required_components("@PROJECT_NAME@")
